flowchart TD
    %% === PROJECT GOALS ===
    %% Ultimate Goal: Mingle - 소셜링 중심의 실시간 번역 앱으로 외국인과 깊이 있는 대화 가능하게
    %% Current Goal: Mingle 프리토타입 검증 및 핵심 기능 구현
    %% @lastActive: gladia_stt_only

    %% === START ===
    %% @project_start [start, closed]
    project_start("Next.js Project Start<br/><sub>Jamsil Translator 프로젝트의 기반이 되는<br/>Next.js 프레임워크와 기본 구조를<br/>설정하고 초기 환경을 구축함</sub>")

    %% === COMPLETED WORK ===
    %% @structure_refinement [ai-task, closed]
    structure_refinement("Structure & Error Fix<br/><sub>불필요한 폴더 위계를 제거하여<br/>구조를 단순화하고, 클라이언트 컴포넌트<br/>하이드레이션 에러를 해결하여 안정성 확보</sub>")

    %% @ui_ux_improvement [ai-task, closed]
    ui_ux_improvement("UI/UX Improvement<br/><sub>반응형 레이아웃을 적용하여<br/>다양한 화면 크기에서 일관된 경험을<br/>제공하고, 현대적인 감각의 UI로 개선</sub>")

    %% @gladia_stt_integration [ai-task, closed]
    gladia_stt_integration("Gladia STT Integration<br/><sub>Gladia API와 통신하는 Node.js 기반<br/>WebSocket 프록시 서버를 구현하여<br/>실시간 음성 인식을 가능하게 함</sub>")

    %% @language_selection [ai-task, closed]
    language_selection("Language Selection<br/><sub>사용자가 번역할 언어를 직접<br/>선택할 수 있는 기능을 추가하여<br/>다양한 언어권 사용자를 지원함</sub>")

    %% @mingle_landing_prototype [ai-task, closed]
    mingle_landing_prototype("Mingle Landing Page<br/><sub>서비스명 Mingle로 확정하고 소셜링<br/>핵심 가치를 담은 랜딩페이지 프리토타입<br/>React+Vite+Tailwind CSS v4로 구현</sub>")

    %% @landing_i18n [ai-task, closed]
    landing_i18n("Landing i18n 15개 언어<br/><sub>react-i18next로 다국어 지원 구현<br/>EN/KO/JA/ZH/FR/DE/ES/PT/IT/RU<br/>AR/HI/TH/VI 포함, RTL 지원</sub>")

    %% @landing_email_mockups [ai-task, closed]
    landing_email_mockups("이메일 수집 & UI 모킵<br/><sub>다운로드 버튼→이메일 모달 전환<br/>Prisma+PostgreSQL 백엔드 구축<br/>3인 대화 모킵/파티 시나리오/비포애프터 추가</sub>")

    %% @landing_ui_refinement [ai-task, closed]
    landing_ui_refinement("UI 개선 & 테마 변경<br/><sub>다크→라이트 모드, 파란색→노란색 테마<br/>CSS 기반 폰 목업으로 3인 대화 시연<br/>Before/After 3문제-3해결 세로 나열</sub>")

    %% @click_analytics [ai-task, closed]
    click_analytics("클릭 분석 & 유저 추적<br/><sub>버튼 클릭 시 IP/UA/언어/화면크기 등<br/>유저 정보 자동 저장, ButtonClick 모델<br/>이메일 없이도 방문자 행동 추적</sub>")

    %% === COMPLETED WORK (continued) ===
    %% @nextjs_fullstack_migration [ai-task, closed]
    nextjs_fullstack_migration("Next.js 풀스택 전환<br/><sub>mingle-landing을 Vite+Express에서<br/>Next.js App Router로 마이그레이션<br/>Vercel 배포, 방문자/클릭 추적, 다국어 라우팅</sub>")

    %% @landing_copy_update [ai-task, closed]
    landing_copy_update("랜딩 카피 전면 개편<br/><sub>15개 언어 hero/problem/features/coreValue<br/>문구 업데이트, 대화 끊김 없는 번역 강조<br/>4번째 문제점 추가, 불필요한 배지 삭제</sub>")

    %% @talk_to_world_section [ai-task, closed]
    talk_to_world_section("Talk to the World 섹션<br/><sub>사용 방법→글로벌 연결 섹션 교체<br/>15개 언어 번역, 전체너비 이미지 배치<br/>favicon 설정 완료</sub>")

    %% @gladia_user_onboarding [blocker, closed]
    gladia_user_onboarding("Gladia 유저 온보딩<br/><sub>Gladia 온보딩 500 에러로 신규 가입 불가<br/>버튼 코드 제거 완료, 서버 버그 해결 시<br/>재구현 필요 (key 중복 버그도 수정됨)</sub>")

    %% @deepgram_integration [ai-task, closed]
    deepgram_integration("Deepgram 통합 & UI 개선<br/><sub>Nova-3 모델 적용(단일언어 최적화)<br/>Detect Language 에러 해결 및<br/>자동 스크롤 기능 추가완료</sub>")

    %% @fireworks_integration [ai-task, closed]
    fireworks_integration("Fireworks AI 통합<br/><sub>Whisper 기반 V2 모델 연동 완료<br/>48kHz 샘플레이트 지원 패치<br/>다중 모델 선택 아키텍처 구축</sub>")

    %% @deepgram_multi [ai-task, closed]
    deepgram_multi("Deepgram Multi 모드 추가<br/><sub>language=multi 파라미터로 다국어<br/>코드 스위칭 전사 모드 추가<br/>기존 단일언어 모드와 별도 메뉴로 구성</sub>")

    %% @deepgram_multi_fix [ai-task, closed]
    deepgram_multi_fix("Deepgram Multi 언어감지 수정<br/><sub>detected_language→words[0].language<br/>+ channel.languages 폴백으로 변경<br/>지원 언어 10개 안내 UI 추가</sub>")

    %% @gladia_stt_only [ai-task, closed]
    gladia_stt_only("Gladia STT 전용 옵션<br/><sub>번역 없이 순수 STT만 사용하는<br/>옵션 추가, enableTranslation 파라미터로<br/>번역 on/off 제어</sub>")

    %% @translation_engine_research [ai-task, opened]
    translation_engine_research("번역 기능 고도화<br/><sub>Deepgram/Fireworks는 번역 미지원<br/>별도 번역 엔진(GPT/DeepL 등)을<br/>붙이는 파이프라인 구축 필요</sub>")

    %% @chat_invite_feature [ai-task, opened]
    chat_invite_feature("대화록 초대 기능<br/><sub>번역된 대화를 채팅방으로 저장하고<br/>상대방을 초대하여 헤어진 후에도<br/>연락을 이어갈 수 있는 핵심 기능</sub>")

    %% @mobile_app_development [ai-task, opened]
    mobile_app_development("Cross-Platform Mobile App<br/><sub>React Native 등을 활용하여 실시간<br/>연속 번역 기능을 탑재한 크로스<br/>플랫폼 모바일 애플리케이션 개발</sub>")

    %% @ultimate_goal [end, opened]
    ultimate_goal("Mingle Launch<br/><sub>소셜링 중심의 실시간 번역 앱으로<br/>외국인과 깊이 있는 대화를 나누고<br/>지속적인 관계를 만들어가는 서비스</sub>")

    %% === CONNECTIONS ===
    project_start --> structure_refinement
    structure_refinement --> ui_ux_improvement
    ui_ux_improvement --> gladia_stt_integration
    gladia_stt_integration --> language_selection
    language_selection --> mingle_landing_prototype
    mingle_landing_prototype --> landing_i18n
    landing_i18n --> landing_email_mockups
    landing_email_mockups --> landing_ui_refinement
    landing_ui_refinement --> click_analytics
    click_analytics --> nextjs_fullstack_migration
    nextjs_fullstack_migration --> landing_copy_update
    landing_copy_update --> talk_to_world_section
    talk_to_world_section --> gladia_user_onboarding
    gladia_user_onboarding --> deepgram_integration
    deepgram_integration --> fireworks_integration
    fireworks_integration --> deepgram_multi
    deepgram_multi --> deepgram_multi_fix
    deepgram_multi --> gladia_stt_only
    deepgram_multi_fix --> translation_engine_research
    gladia_stt_only --> translation_engine_research
    translation_engine_research --> chat_invite_feature
    chat_invite_feature --> mobile_app_development
    mobile_app_development -.-> ultimate_goal

    %% === RECENT WORK HIGHLIGHT ===
    subgraph recent [RECENT]
        deepgram_multi_fix
        gladia_stt_only
    end

    %% === STYLES ===
    %% Start node (teal)
    style project_start fill:#1a1a2e,stroke:#2dd4bf,color:#5eead4,stroke-width:2px

    %% Ultimate Goal (gray)
    style ultimate_goal fill:#1a1a2e,stroke:#6b7280,color:#9ca3af,stroke-width:1px

    %% Closed tasks (soft purple)
    style structure_refinement fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px
    style ui_ux_improvement fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px
    style gladia_stt_integration fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px
    style language_selection fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px
    style mingle_landing_prototype fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Previous recent node (now closed)
    style landing_i18n fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Previous recent node (now closed)
    style landing_email_mockups fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Previous recent node (now closed)
    style landing_ui_refinement fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Previous recent node (now closed)
    style click_analytics fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Previous recent node (now closed)
    style nextjs_fullstack_migration fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Previous recent node (now closed)
    style landing_copy_update fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Previous recent node (now closed)
    style talk_to_world_section fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Blocker node (soft red)
    style gladia_user_onboarding fill:#1a1a2e,stroke:#f87171,color:#fca5a5,stroke-width:1px

    style deepgram_integration fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    style fireworks_integration fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Previous recent node (now closed)
    style deepgram_multi fill:#1a1a2e,stroke:#a78bfa,color:#c4b5fd,stroke-width:1px

    %% Recent nodes (highlighted purple)
    style deepgram_multi_fix fill:#2d1f4e,stroke:#c084fc,color:#e9d5ff,stroke-width:2px
    style gladia_stt_only fill:#2d1f4e,stroke:#c084fc,color:#e9d5ff,stroke-width:2px

    %% Open tasks (soft green)
    style translation_engine_research fill:#1a1a2e,stroke:#4ade80,color:#86efac,stroke-width:1px
    style chat_invite_feature fill:#1a1a2e,stroke:#4ade80,color:#86efac,stroke-width:1px
    style mobile_app_development fill:#1a1a2e,stroke:#4ade80,color:#86efac,stroke-width:1px

    %% Blocked subgraph style (red dashed)
    style recent fill:transparent,stroke:#c084fc,color:#c084fc,stroke-width:2px,stroke-dasharray:5 5
